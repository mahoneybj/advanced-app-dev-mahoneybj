rules_version = '2';

service cloud.firestore {
  match /databases/{database}/documents {

      match /games/{gameId} {
        allow read: if request.auth != null; // Anyone auth can read games
        allow create, update, delete: if request.auth != null && request.resource.data.ownerUID == request.auth.uid;

      }
      match /games/{gameId}/members/{playerUID} {
        allow read, create, update, delete: if request.auth != null && request.auth.uid == playerUID; // Allow all for own member document
        allow read: if request.auth != null && request.auth.uid != playerUID; // Allow read others for lobby player list
      }

   }
}
